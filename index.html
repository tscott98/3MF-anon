<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3MF Metadata Cleaner</title>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script defer src="app.js"></script> 
    <script defer>
        document.addEventListener("DOMContentLoaded", () => {
            const versionElement = document.querySelector(".version");
            if (versionElement) {
                versionElement.textContent = `Version: ${appVersion}`;
            }
        });
    </script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            text-align: center;
            width: 350px;
        }
        h1 {
            color: #333;
        }
        input[type="file"] {
            margin: 15px 0;
        }
        label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            font-size: 14px;
        }
        input[type="checkbox"] {
            transform: scale(1.2);
        }
        .button {
            background-color: #0073e6;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 15px;
        }
        .button:hover {
            background-color: #005bb5;
        }
        .version {
            font-size: 12px;
            color: #666;
            margin-top: 10px;
        }
        #dropZone {
            border: 2px dashed #ccc;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            color: #666;
            margin: 20px 0;
            transition: background-color 0.3s, border-color 0.3s;
        }
        #dropZone.drag-over {
            background-color: #f0f8ff;
            border-color: #007bff;
        }
        #fileNameDisplay {
            margin-top: 10px;
            font-weight: bold;
        }
        #disclaimer {
            font-size: 14px;
            color: #444;
            text-align: left;
            line-height: 1.5;
            background-color: #f9f9f9;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-top: 15px;
        }
        #footer {
            font-size: 12px;
            color: #666;
            text-align: center;
            margin-top: 20px;
            padding: 10px;
            border-top: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>3MF Metadata Cleaner</h1>        
        <div id="dropZone">Drop your .3MF file here</div>
        <div id="fileNameDisplay"></div>
        <input type="file" id="fileInput" accept=".3mf">
        <label>
            <input type="checkbox" id="removeAuxiliaries"> Remove Auxiliaries Folder
        </label>
        <button class="button" id="processFile">Process File</button>        
        <div id="disclaimer">
            This tool removes all metadata from 3MF files except for essential application-related tags. 
            This includes copyright, licensing, and author information. Users should ensure they have the 
            right to modify and distribute the files they process. This tool should not be used for 
            illegal or unethical purposes, including removing attribution from models that require it.
        </div>        
        <p class="version"></p> <!-- Remove hardcoded version -->
    </div>
    <footer id="footer">
        This tool runs entirely in your browserâ€”no files are uploaded or stored on any server. Your 3MF files remain private, and we do not collect any data about your usage. However, GitHub Pages may log basic access data, such as IP addresses and visit counts, for analytics purposes.<br><br>
        Shoutout to <a href="https://www.reddit.com/user/brossow/" target="_blank">u/brossow</a> for their helpful instructions in <a href="https://www.reddit.com/r/BambuLab/comments/1j9vtrc/removing_unwanted_project_info_from_3mf_files/" target="_blank">this Reddit post</a>.
    </footer>
</body>
</html>
